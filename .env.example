# ===========================================
# UnravelDocs API - Environment Variables
# ===========================================
# IMPORTANT: This file contains sensitive credentials.
# NEVER commit this file to version control.
# Copy .env.example to .env and fill in your values.
# ===========================================

# ==================== Application ====================
APP_BASE_URL=http://localhost:8080
APP_SUPPORT_EMAIL=support@unraveldocs.xyz
APP_UNSUBSCRIBE_URL=http://localhost:8080/unsubscribe
APP_FRONTEND_URL=http://localhost:4200

# ==================== Database ====================
# For Docker: use postgres as host
# For local development: use localhost
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=unraveldocs
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# Constructed JDBC URL (used by Spring Boot)
SPRING_DATASOURCE_URL="jdbc:postgresql://${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}"
SPRING_DATASOURCE_USERNAME="${POSTGRES_USER}"
SPRING_DATASOURCE_PASSWORD="${POSTGRES_PASSWORD}"

# ==================== Redis ====================
REDIS_HOST=redis
REDIS_PORT=6379
SPRING_DATA_REDIS_URL="redis://${REDIS_HOST}:${REDIS_PORT}"

# ==================== Kafka ====================
# For Docker: use kafka:29092 (internal Docker network)
# For local development: use localhost:9092
SPRING_KAFKA_BOOTSTRAP_SERVERS=kafka:29092

# ==================== AWS S3 / LocalStack ====================
AWS_S3_REGION=eu-central-1
AWS_ACCESS_KEY=your-aws-access-key
AWS_SECRET_KEY=your-aws-secret-key
AWS_S3_BUCKET=unraveldocs-s3
AWS_S3_CLOUDFRONT_URL=your-cloudfront-url.cloudfront.net
# For LocalStack (Docker only)
AWS_S3_ENDPOINT=http://localstack:4566

# ==================== AWS SES ====================
AWS_FROM_EMAIL=no-reply@unraveldocs.xyz

# ==================== JWT ====================
APP_JWT_SECRET=your-secure-jwt-secret-key-here
APP_JWT_EXPIRATION_MS=3600000
APP_JWT_REFRESH_EXPIRATION_MS=2592000000

# ==================== Mailgun ====================
MAILGUN_API_KEY=your-mailgun-api-key
MAILGUN_FROM_EMAIL=no-reply@unraveldocs.xyz
MAILGUN_DOMAIN=your-mailgun-domain.com
MAILGUN_WEBHOOK_SIGNING_KEY=your-webhook-signing-key

# ==================== Cloudinary ====================
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# ==================== Twilio ====================
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ==================== Stripe ====================
STRIPE_API_KEY=sk_test_51NVMi5JPeUMC2JLZfKK6zicvgzoYizYJNdBQEJA99O3ybvjCYyHHEXMIqUc4wfqVbhT5K7KSt0aHrl1gprRzTbLo00J6XcmTlU
STRIPE_CURRENCY=usd
STRIPE_WEBHOOK_SECRET=whsec_1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef
STRIPE_CHECKOUT_SUCCESS_URL=http://localhost:8080/payment-success
STRIPE_CHECKOUT_CANCEL_URL=http://localhost:8080/payment-cancel

# ==================== Paystack ====================
#PAYSTACK_SECRET_KEY=sk_live_123f087f808d8a2ea4521350b1354e385e88909b
PAYSTACK_BASE_URL=https://api.paystack.co
#PAYSTACK_WEBHOOK_SECRET=sk_live_123f087f808d8a2ea4521350b1354e385e88909b
PAYSTACK_CALLBACK_URL="${APP_BASE_URL}/api/v1/paystack/callback"
PAYSTACK_CURRENCY=NGN

# ==================== PayPal ====================
PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret
PAYPAL_MODE=sandbox
PAYPAL_CURRENCY=USD
PAYPAL_WEBHOOK_ID=your-paypal-webhook-id
PAYPAL_RETURN_URL="${APP_BASE_URL}/api/v1/paypal/return"
PAYPAL_CANCEL_URL="${APP_BASE_URL}/api/v1/paypal/cancel"

# ==================== OpenAI ====================
SPRING_AI_OPENAI_API_KEY=sk-your-openai-api-key
SPRING_AI_OPENAI_BASE_URL=https://api.openai.com/v1

# ==================== Mistral AI ====================
SPRING_AI_MISTRALAI_API_KEY=your-mistral-api-key
SPRING_AI_MISTRALAI_BASE_URL=https://api.mistral.ai/v1

# ==================== Google Cloud ====================
# Path to Google Cloud credentials JSON file
GOOGLE_APPLICATION_CREDENTIALS=classpath:google-credentials.json

# ==================== Admin ====================
APP_ADMIN_EMAIL=admin@unraveldocs.xyz
APP_ADMIN_PASSWORD=your-secure-admin-password

# ==================== Datadog ====================
DATADOG_API_KEY=your-datadog-api-key
DATADOG_METRICS_ENABLED=false

# ==================== Receipt ====================
APP_RECEIPT_COMPANY_NAME=UnravelDocs
APP_RECEIPT_COMPANY_EMAIL=support@unraveldocs.com
APP_RECEIPT_COMPANY_ADDRESS="Your Company Address"
APP_RECEIPT_PREFIX=RCP

# ==================== Currency Exchange Rate API ====================
# API from exchangerate-api.com
CURRENCY_API_KEY=602b3b9d3373d678dd524fae
CURRENCY_API_BASE_URL=https://v6.exchangerate-api.com/v6
CURRENCY_API_CACHING_ENABLED=true
CURRENCY_API_CACHE_TTL_HOURS=24
CURRENCY_API_USE_FALLBACK_RATES=true

# ==================== Elasticsearch ====================
# For Docker: use elasticsearch as host
# For local development: use localhost
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200
SPRING_ELASTICSEARCH_URIS="http://${ELASTICSEARCH_HOST}:${ELASTICSEARCH_PORT}"
# Set to true to enable security (requires setting up passwords)
ELASTICSEARCH_SECURITY_ENABLED=false

# ==================== Tesseract ====================
# Windows: C:/Program Files/Tesseract-OCR/tessdata
# Linux: /usr/share/tesseract-ocr/5/tessdata
TESSERACT_DATAPATH="C:/Program Files/Tesseract-OCR/tessdata"

# ==================== OCR Configuration ====================
# Default OCR provider: tesseract or google-vision
OCR_DEFAULT_PROVIDER=tesseract

# Fallback settings
OCR_FALLBACK_ENABLED=true
OCR_FALLBACK_PROVIDER=tesseract

# Enabled providers (comma-separated): TESSERACT,GOOGLE_VISION
OCR_ENABLED_PROVIDERS=TESSERACT

# Maximum file size for OCR in bytes (default: 10MB)
OCR_MAX_FILE_SIZE_BYTES=10485760

# Timeout for OCR processing in seconds
OCR_TIMEOUT_SECONDS=60

# Maximum retries for failed OCR requests
OCR_MAX_RETRIES=3

# ==================== OCR Quota Settings ====================
OCR_QUOTA_ENABLED=true
OCR_QUOTA_FREE_TIER_DAILY_LIMIT=50
OCR_QUOTA_BASIC_TIER_DAILY_LIMIT=200
OCR_QUOTA_PREMIUM_TIER_DAILY_LIMIT=1000
# -1 for unlimited
OCR_QUOTA_ENTERPRISE_TIER_DAILY_LIMIT=-1
OCR_QUOTA_TRACK_USAGE=true

# ==================== Google Cloud Vision OCR ====================
# Enable/disable Google Cloud Vision
OCR_GOOGLE_VISION_ENABLED=true

# Credentials location (classpath:, file:, or absolute path)
OCR_GOOGLE_VISION_CREDENTIALS_LOCATION=classpath:google-credentials.json

# Vision API timeout in seconds
OCR_GOOGLE_VISION_TIMEOUT_SECONDS=30

# Maximum retries for Vision API calls
OCR_GOOGLE_VISION_MAX_RETRIES=3

# Include confidence scores in results
OCR_GOOGLE_VISION_INCLUDE_CONFIDENCE=true

# Detect and return document language
OCR_GOOGLE_VISION_DETECT_LANGUAGE=true

# ==================== Push Notification Configuration ====================
# Active provider: FCM, ONESIGNAL, or AWS_SNS
NOTIFICATION_ACTIVE_PROVIDER=FCM

# Persist notifications to database
NOTIFICATION_PERSIST_NOTIFICATIONS=true

# Respect user quiet hours
NOTIFICATION_RESPECT_QUIET_HOURS=true

# Maximum devices per user
NOTIFICATION_MAX_DEVICES_PER_USER=10

# Days to retain notifications before cleanup
NOTIFICATION_RETENTION_DAYS=90

# Kafka topic for notification events
NOTIFICATION_KAFKA_TOPIC=notification-events

# ==================== Firebase Cloud Messaging ====================
FIREBASE_ENABLED=true
FIREBASE_CREDENTIALS_PATH=classpath:firebase-service-account.json
# Or use inline JSON for Docker/CI environments:
# FIREBASE_CREDENTIALS_JSON={"type":"service_account","project_id":"..."}

# ==================== OneSignal (Alternative) ====================
ONESIGNAL_ENABLED=false
ONESIGNAL_APP_ID=your-onesignal-app-id
ONESIGNAL_API_KEY=your-onesignal-rest-api-key
ONESIGNAL_API_URL=https://onesignal.com/api/v1

# ==================== AWS SNS (Alternative - uses existing AWS credentials) ====================
AWS_SNS_ENABLED=false
AWS_SNS_PLATFORM_APPLICATION_ARN=arn:aws:sns:region:account-id:app/platform/app-name
AWS_SNS_REGION=eu-central-1

